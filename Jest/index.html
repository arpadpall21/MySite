<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title> Jest </title> 
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous"> 
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script> 
    <link rel="stylesheet" href="../Assets/stylesPages.css"> 
    <script src="../Assets/scriptPages.js"></script>
</head>
<body>
<h1> Jest (ver 4.0.0) </h1>
    <p> Updated ( 2021-07-18 )</p>
    <p class="sitenav"> <a href="../index.html">MySite></a> Jest </p>
<table class="table">
<caption>
  Jest v27.0
    <span class="changeListOrder">[Ordered: <span>Alphabetically</span>]</span>
</caption>
    <tr>
        <th style="width:30%;"> Method / Property </th>
        <th> Description </th>
    </tr>
<tr class="05.01">
  <td> 
        <em>npm install</em> jest</em> 
  </td>
  <td> 
        - installs jest 
  </td>
</tr>
<tr class="05.02">
  <td> 
         <strong>fileName</strong>.test.js
  </td>
  <td> 
        - jest file, jest will run these files in the current directory for testing 
  </td>
</tr>
<tr class="05.03">
  <td> 
        jest <small>[--coverage]</small> <i>jestFile</i>
  </td>
  <td> 
        - runs all jest files in the current direcoty or the specified file (the <mark>.test.js</mark> extension can be omitted ex: (<mark>jest someTest.test.js</mark> can be called as <mark>jest someTest</mark>)) <br>
        - (<small>--coverage</small>) also runs the coverage test (prints the result at the end of the test)
  </td>
</tr>
<tr>
  <td colspan="2"> Matches </td>
</tr>
<tr class="0">
  <td> 
        <em>expect(<strong>exp</strong>)</em>.not<strong>matcherMethod</strong>
  </td>
  <td> 
        - inverses the <strong>matcherMethod</strong>'s operation 
  </td>
</tr>
<tr class="0">
  <td> 
        <em>expect(<strong>exp</strong>)</em>.toBe(<strong>data</strong>)
  </td>
  <td> 
        - uses the <mark>===</mark> comparison operator to check the expected data 
  </td>
</tr>
<tr class="0">
  <td> 
        <em>expect(<strong>exp</strong>)</em>.toEqual(<strong>data</strong>)
  </td>
  <td> 
        - recursively checks the expected data <u>(used to compare objects)</u>
  </td>
</tr>
<tr class="0">
  <td> 
        <em>expect(<strong>exp</strong>)</em>.toBeNull()
  </td>
  <td> 
        - expected value should be <mark>null</mark> 
  </td>
</tr>
<tr class="0">
  <td> 
        <em>expect(<strong>exp</strong>)</em>.toBeUndefined()
  </td>
  <td> 
        - expected value should be <mark>undefined</mark> 
  </td>
</tr>
<tr class="0">
  <td> 
        <em>expect(<strong>exp</strong>)</em>.toBeDefined()
  </td>
  <td> 
        - expected value should be <u>other than</u> <mark>undefined</mark> 
  </td>
</tr>
<tr class="0">
  <td> 
        <em>expect(<strong>exp</strong>)</em>.toBeTruthy()
  </td>
  <td> 
        - expected value should be evaluated <mark>true</mark>
  </td>
</tr>
<tr class="0">
  <td> 
        <em>expect(<strong>exp</strong>)</em>.toBeFalsy()
  </td>
  <td> 
        - expected value should be evaluated <mark>false</mark>
  </td>
</tr>
<tr class="0">
  <td> 
        <em>expect(<strong>exp</strong>)</em>.toBeGreaterThan(<strong>nr</strong>)
  </td>
  <td> 
        - the <strong>exp</strong> result should be greater than the <strong>nr</strong>  
  </td>
</tr>
<tr class="0">
  <td> 
        <em>expect(<strong>exp</strong>)</em>.toBeGreaterThanOrEqual(<strong>nr</strong>)
  </td>
  <td> 
        - the <strong>exp</strong> result should be greater or equal than the <strong>nr</strong>  
  </td>
</tr>
<tr class="0">
  <td> 
        <em>expect(<strong>exp</strong>)</em>.toBeLessThan(<strong>nr</strong>)
  </td>
  <td> 
        - the <strong>exp</strong> result should be less than the <strong>nr</strong>  
  </td>
</tr>
<tr class="0">
  <td> 
        <em>expect(<strong>exp</strong>)</em>.toBeLessThanOrEqual(<strong>nr</strong>)
  </td>
  <td> 
        - the <strong>exp</strong> result should be less or equal than the <strong>nr</strong>  
  </td>
</tr>
<tr class="0">
  <td> 
        <em>expect(<strong>exp</strong>)</em>.toBeCloseTo(<strong>nr</strong>)
  </td>
  <td> 
        - the <strong>exp</strong> result should close to the <strong>nr</strong> (ex: <mark>0.1 + 0.2</mark> will be close to <mark>0.3</mark>)
  </td>
</tr>
<tr class="0">
  <td> 
        <em>expect(<strong>exp</strong>)</em>.toMatch(<strong>str|regExp</strong>)
  </td>
  <td> 
        - the <strong>str|regExp</strong> should match the <strong>exp</strong> result string   
  </td>
</tr>
<tr class="0">
  <td> 
        <em>expect(<strong>exp</strong>)</em>.toContain(<strong>data</strong>)
  </td>
  <td> 
        - the <strong>exp</strong> result should be an iterable object which contains <strong>data</strong>
  </td>
</tr>










<tr class="0">
  <td> 
        Demo Prop 
  </td>
  <td> 
        demo description 
  </td>
</tr>




</table>
  
    <br>
    <details class="example" id="notes">
    <summary> Notes :</summary>
        <!-- <p> - paragraph removes the 'empty' message from the detail TAG -->
    </details>
<h2 style="color:green;"><u> Useful Links : </u></h2>
    <p><a href="https://jestjs.io/" target="_blank">JestJs.io </a></p>
<h2 style="color:green;"><u> Remember This : </u></h2>
    
<h2 style="color:green;"><u> Description and Demonstration : </u></h2>
  <p> - Jest is a JavaScript testing framework </p>
  <pre class="syntax">
<span style="color:darkgray;">// <strong>fileName</strong>.test.js (file) ------------------------------------------------------------</span>
  test|it(<strong>testLabel:str</strong>, function(){                                                   // labeled test case (the <strong>testLabel</strong> is printed on CLI)   
    expect(<strong>exp</strong>).<strong>matcherMethod</strong>                                                          // the <strong>exp</strong> is the case what we want to test, the <strong>matcherMethod</strong> checks to outcome   
  })
  </pre>
<details class="example"> 
<summary> DEMO </summary>
  <p> - <mark>jest.test.js</mark> (file) </p>
  <pre>
  test('addition check-1', function(){
    expect(1 + 1).toBe(2)                                                              // test passes 
  })
  
  test('addition check-2', function(){
    expect(1 + 1).toBe(3)                                                              // test fails 
  })
  </pre>
</details>
<details class="example"> 
<summary> Example : </summary>
<h4 style="color:darkblue;"><u> coverage test </u></h4>
  <p> - <mark>myTest.test.js</mark> file </p>
  <pre>
  const {myFn1, myFn2} = require('./testFn')
  
  test('should run imported functions', function(){
    expect(myFn1()).toBe(5)
    expect(myFn2()).toBe(7)
    
  })
  </pre>
  <p> - <mark>testFn.js</mark> file </p>
  <pre>
  function myFn1(){
    let x = 2;
    let y = 3;
    const result = x + y
    
    return result
  }
  
  function myFn2(){
    let x = 7
    let y = 8
    const result = x + y
    
    return result
  }
  
  module.exports = {
    myFn1,
    myFn2
  }
  </pre>
  <pre class="cmd">
  pall@Aspire:~/Documents/CodePlus/My Site/Jest/TEST$ jest --coverage
    PASS  ./myTest.test.js
      âœ“ should run imported functions (4 ms)
      
    -----------|---------|----------|---------|---------|-------------------
    File       | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
    -----------|---------|----------|---------|---------|-------------------
    All files  |     100 |      100 |     100 |     100 |                   
    testFn.js  |     100 |      100 |     100 |     100 |                   
    -----------|---------|----------|---------|---------|-------------------
    Test Suites: 1 passed, 1 total
    Tests:       1 passed, 1 total
    Snapshots:   0 total
    Time:        0.472 s, estimated 1 s
    Ran all test suites.
  pall@Aspire:~/Documents/CodePlus/My Site/Jest/TEST$ 
  </pre>
</details>
<hr>
<!------------------------------------------------------------------------------------------------------>
<h2 style="color:darkblue;"><u> Matchers  </u></h2>
<h3 style="color:darkblue;"><u> The <mark>not</mark> / <mark>toBe()</mark> / <mark>toEqual()</mark>   </u></h3>
<details class="example" open> 
<summary> DEMO </summary>
  <pre>
  
  
  </pre>
</details>
<details class="example" open> 
<summary> Example : </summary>
<h4 style="color:darkblue;"><u> <mark>toBe()</mark> VS <mark>toEqual()</mark> TEST </u></h4>
  <pre>
  test('test-1', function(){
    expect(2).toBe('2')                                                                // test fails because the toBe() uses the same value comparison operator (===)
  })
  
  test('test-2', function(){
    expect(2).toBe(2)                                                                  // test passes 
  })
  
  test('test-3', function(){
    expect({p1:21, p2:22}).toBe({p1:21, p2:22})                                        // test fails because the toBe() can compare only values   
  })
  
  test('test-3', function(){
    expect({p1:21, p2:22}).toEqual({p1:21, p2:22})                                     // test passes because the toEqual() recursively compares object properties 
  })
  
  test('test-4', function(){
    expect([1, 2, 3]).toBe([1, 2, 3])                                                  // test fails because the toBe() can compare only values
  })
  
  test('test-', function(){
    expect([1, 2, 3]).toEqual([1, 2, 3])                                               // test fails because the toBe() can compare only values   
  })
  </pre>
<hr>
<!------------------------------------------------------------------------------------------------------>
<h4 style="color:darkblue;"><u> <mark>.not</mark> / <mark>toThrow()</mark> TEST </u></h4>  
  <pre>
  test('test-1', function(){
    expect(2).not.toBe(3)                                                              // test passes 
  })
  
  test('test-2', function(){
    expect(2).not.toBe(2)                                                              // test fails 
  })
  
  
  </pre>
<hr>
<!------------------------------------------------------------------------------------------------------>
<h4 style="color:darkblue;"><u> <mark>toBeNull()</mark> / <mark>toBeUndefined()</mark> / <mark>toBeDefined()</mark> / <mark>toBeTruthy()</mark> / <mark>toBeFalsy()</mark> TEST </u></h4>  
  <pre>
  test('test-1', function(){
    expect(null).toBeNull()  
    
    expect(undefined).toBeUndefined()
    expect('').toBeDefined()                                                           // any value which is not undefined 
    
    expect(1).toBeTruthy()
    expect(0).toBeFalsy()
  })
  </pre>
<hr>
<!------------------------------------------------------------------------------------------------------>
<h4 style="color:darkblue;"><u> <mark>toBeGreaterThan()</mark> / <mark>toBeGreaterThanOrEqual()</mark> / <mark>toBeLessThan()</mark> / <mark>toBeLessThanOrEqual()</mark> / <mark>toBeCloseTo()</mark> TEST </u></h4>  
  <pre>
  test('test-1', function(){
    expect(5).toBeGreaterThan(3)  
    expect(5).toBeGreaterThanOrEqual(3)  
    expect(5).toBeGreaterThanOrEqual(5)  
    
    expect(5).toBeLessThan(7)
    expect(5).toBeLessThanOrEqual(7)
    expect(5).toBeLessThanOrEqual(5)
    
    expect(0.1 + 0.2).toBeCloseTo(0.3)                                                 // for double floating comparison 
  })
  </pre>
<hr>
<!------------------------------------------------------------------------------------------------------>
<h4 style="color:darkblue;"><u> <mark>toMatch()</mark> TEST </u></h4>  
  <pre>
  test('test-1', function(){
    expect('some test').toMatch('some test')
    expect('some test').toMatch(/SOME TEST/i)                                          // also accepts regular expressions  
  })
  </pre>
<hr>
<!------------------------------------------------------------------------------------------------------>
<h4 style="color:darkblue;"><u> <mark>toContain()</mark> TEST </u></h4>  
  <pre>
  test('test-1', function(){
    expect([1, 2, 3]).toContain(2)
    expect(['egy', 'ketto', 'harom']).toContain('ketto')
  })
  </pre>
  
  
  
  
  
</details>

  
  
  
  
  
  
<pre>
- toBe 	-> same value comparison only (==)
- toEqual 	-> strict value comparison (===) 
  
  
  
  
  
-- taks for the whole test (these  methods can be placed in a specific group (scopes))
  beforeEach(() => {
    // stuff to do before each test case 
  })
  
  afterEach(() => {
    // stuff to do after each test 
  })
  
  beforeAll(() => {
    // stuff to do before all test 
  })
  
  afterAll(() => {
    // stuff to do avert all test   
  })
  
  
  
  
  test(<label>, function(){
    // test cases are comming here ....
  })
  
  
-- expection in test callback 
  - expect().not<.method>         // negates the expected test result 
  
  - expect().toBe()               // expected value 
  - expect().toEqual()            // recursively checks every filed in an object or array | or must be an exact number 
  - expect().toBeNull()  
  - expect().toBeUndefined()  
  - expect().toBeDefined()  
  - expect().toBeTruthy()
  - expect().toBeFalsy()
  
  - expect().toBeGreaterThan()
  - expect().toBeGreaterThanOrEqual()
  - expect().toBeLessThan()
  - expect().toBeLessThanOrEqual()
  
  - expect().toMatch()            // expected string (regExp can be passed as expected value)
  
  - expect().toContain()          // array or iterable object contains the expected value  
  
  - expect().toThrow()            // expects a thrown error by a function 
  
</pre>




<hr>
<!------------------------------------------------------------------------------------------------------>
<h2 style="color:darkblue;"><u> Testing Asynchronous code </u></h2>
  <pre class="syntax">
<span style="color:darkgray;">// asynchronous callback --------------------------------------------------------------</span>
  test(<strong>testLabel:str</strong>, function(done){                                                  // the <mark>done</mark> callback will signal the end of an async task   
    function <strong>callback</strong>(){
      expect(<strong>something</strong>).<strong>matcherMethod</strong>                                                  // we verify the async returned result 
      done()                                                                           // signals the end of the async task   
    }
    
    someAsyncApi(<strong>callback</strong>)                                                             // calling the async api 
  })
  
  
<span style="color:darkgray;">// promises ---------------------------------------------------------------------------</span>
  test(<strong>testLabel:str</strong>, function(){
    return <strong>promise</strong>                                                                     // promises must be returned 
  })
  
  
  test(<strong>testLabel:str</strong>, function(){
    return expect(<strong>promise</strong>).resolves.<strong>matcherMethod</strong>                                      // the <mark>.resolves</mark> expects a resolved promise    
    
    return expect(<strong>promise</strong>).rejects.<strong>matcherMethod</strong>                                       // the <mark>.rejects</mark> expects a rejected promise    
  })
  
  
<span style="color:darkgray;">// async functions --------------------------------------------------------------------</span>
  test(<strong>testLabel:str</strong>, async function(){
    await <strong>promise</strong>                                                                      // waits the promise to be resolved or rejected 
    
    await expect(<strong>promise</strong>).resolves.<strong>matcherMethod</strong>                                       // we can directly write a test after the await 
    await expect(<strong>promise</strong>).rejects.<strong>matcherMethod</strong> 
  })
  </pre>
<details class="example">
<summary> DEMO </summary>
  <p> - asynchronous callback </p>
  <pre>
  const fs = require('fs')
  
  test('should read file', function(done){
    function cb(err, data){
      expect(data.toString()).toBe('test file content')
      done()                                                                           // the doen callback signals the end of an async task 
    }
    
    fs.readFile('testFile.txt', cb)
  })
  </pre>
  <p> - promises </p>
  <pre>
  const fs = require('fs').promises
  const resPromise = Promise.resolve('res')
  const rejPromise = Promise.reject('rej')
  
  test('should read file', function(){
    return fs.readFile('./testFile.txt')                                               // promises should be returned 
      .then((res) => {
        expect(res.toString()).toBe('test file content')
      })
  })
  
// ------------------------------------------------------------------------------------
  test('should resolve promise', function(){
    return expect(resPromise).resolves.toBe('res')                                     // the '.resolves' property expects a resolved promise result  
  })
  
  test('should reject promise', function(){
    return expect(rejPromise).rejects.toBe('rej')                                      // the '.rejects' property expects a rejected promise result  
  })
  </pre>
  <p> - async function </p>
  <pre>
  const resPromise = Promise.resolve('res')
  const rejPromise = Promise.reject('rej')
  
  test('async test', async function(){
    await expect(resPromise).resolves.toBe('res')                                      // waits for the promise then tests the result directly   
    await expect(rejPromise).rejects.toBe('rej')
  })
  </pre>
</details>
<details class="example"> 
<summary> Example : </summary>
<h4 style="color:darkblue;"><u> testing async code </u></h4>
  <p> - both cases work fine, however the jest specification says that the <mark>done</mark> callback should be used for accurate testing </p>
  <pre>
  const fs = require('fs')
  
// -------------------------------------------------------------------------
  test('should read file', function(){
    function cb(err, data){
      expect(data.toString()).toBe('test file content')
    }
    
    fs.readFile('testFile.txt', cb)
  })
  
// -------------------------------------------------------------------------
  test('should read file', function(done){
    function cb(err, data){
      expect(data.toString()).toBe('test file content')
      done()
    }
    
    fs.readFile('testFile.txt', cb)
  })
  </pre>
<hr>
<!------------------------------------------------------------------------------------------------------>
<h4 style="color:darkblue;"><u> testing promisses </u></h4>
  <pre>
  const fs = require('fs').promises
  
  test('should read file', function(){
    return fs.readFile('./testFile.txt')
      .then((res) => {
        expect(res.toString()).toBe('test file content')
      })
  })
  </pre>
  <pre>
  const resPromise = Promise.resolve('res')
  const rejPromise = Promise.reject('rej')
  
  test('should resolve promise', function(){
    return expect(resPromise).resolves.toBe('res')
  })
  
  test('should reject promise', function(){
    return expect(rejPromise).rejects.toBe('rej')
  })
  </pre>
  <p> - async functions </p>
  <pre>
  const resPromise = Promise.resolve('res')
  const rejPromise = Promise.reject('rej')

  test('async test', async function(){
    await expect(resPromise).resolves.toBe('res')
    await expect(rejPromise).rejects.toBe('rej')
  })
  </pre>
</details>











<!--
---------------------------------------------------------------------------------------------
WRITE DOWN EVERYTHING NEW
---------------------------------------------------------------------------------------------





?????????????????????????????????????????????????????????????????????????????????????????????
WRITE DOWN WHAT YOU DON'T UNDERSTAD OR MUST BE TESTED AS QUESTIONS HERE
?????????????????????????????????????????????????????????????????????????????????????????????

-->


    <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
    <hr><hr><hr><hr><hr>
    
    
<h2><u> Title 1 </u></h2>
<h2 style="color:darkblue;"> Title 1.1 </h2>
<h3 style="color:darkblue;"> Title 1.1.1 </h3>
<h4 style="color:darkblue;"> Title 1.1.1.1 </h4>
    <p> - stuff to learn <mark>keywords_are_highlighted()</mark> bla bla bla </p>
    <p style="text-decoration:underline;"> - important information is underlined </p>
    <p style="color:yellow;"> - very important information is written with yellow colors </p>
    <p style="background-color:yellow;"> - highly important information has yellow background color </p>
    <div style="background-color:red;">
        <p> - red background block means not learned or not tested information! </p>
        <p> - </p>
    </div>
    
    <pre class="syntax">
SYNTAX :    main syntax
            <em>literally used </em>
            <small>literally used optional </small>
            <prot style="color:#049500;">prototype chain</prot>
            <strong>required value </strong>
            <i>optional value </i>
                - some descriptions will come here (like arguments)
                - ??? (3 question marks) in syntax means not tested or not learned yet
                
            <span class="openable"> this is an openable element<div>
                <p> - openable elements listed here in paragraphs </p>
                <p> - </p>
            </div></span>
    </pre>
    
<details class="example">
<summary> DEMO </summary>
    <pre>
    examples of the current lessons 
    
// -----------------------------------------

// -----------------------------------------
    </pre>
</details>
    
    <pre class="cmd">
    command line demo 
    </pre>
    <pre class="formula">
    formula code (like conversion meter...)
    </pre>
<details class="example">
<summary> Example : </summary>
<h4 style="color:darkblue;"><u> example title </u></h4>
    <p> - live tests will come here </p>
        <details>
        <summary> CODE : </summary>
        <pre>
    copy of the exaple code 
        </pre>
        </details>
</details>
<!---------------------------------------------------------------------------------------------------------------------------------->    
<hr>
    
<h2 class="test" style=""><a href="TEST/index.html"> TEST > </a></h2>
    
    
    <br><br>
</body>
</html>
