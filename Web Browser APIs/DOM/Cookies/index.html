<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title> Cooikes </title> 
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous"> 
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<link rel="stylesheet" href="../../../Assets/stylesPages.css"> 
    <script src="../../../Assets/scriptPages.js"></script>
</head>
<body>
<h1> Cookies (ver 3.4.0) </h1>
    <p> Updated ( 2018-02-02 / 2018-09-03 / 2018-10-18 / 2018-12-23 / 2020-07-15 )</p>
    <p class="sitenav"> <a href="../../../index.html">MySite></a>
        <a href="../../index.html"> Web Browser APIs> </a> 
        <a href="../index.html"> DOM> </a> Cookies
    </p>
<table class="table">
<caption> Cookies </caption>
    <tr>
        <th style="width:30%;"> Property </th>
        <th> Description </th>
    </tr>
    <tr>
        <td> 
            <em>document</em>.cookie<br>
            <em>document</em>.cookie = <span class="openable">"<strong>key=value</strong><small>; [expires=<i>date</i>]</small><small>; [path=<i>path</i>]</small>"<div>
                    <p> - <strong>key=value</strong> : name value pair </p>
                    <p> - <small>expires=</small><i>utcDateString</i> : expiry date for <u>this cookie key(s)</u> (can be generated by the <mark>toUTCString()</mark> method) </p>
                    <p> - <small>path=</small><i>path</i> : path for <u>this cookie key(s)</u> (Default: <mark>/</mark> = current page) </p>
                </div></span>
        </td>
        <td> gets or sets the cookies for the document
            <span id="browserSupport" title="updated: 2019-11-18">
                <span><i class="fab fa-chrome"></i> yes </span>
                <span><i class="fab fa-firefox"></i> yes </span>
                <span><i class="fab fa-opera"></i> yes </span>
                <span><i class="fab fa-internet-explorer"></i><i class="fab fa-edge"></i> yes </span>
                <span><i class="fab fa-safari"></i> yes </span>
            </span>        
        </td>
    </tr> 
    <tr>
        <td colspan="2"> Request Cookies (set by the client in a HTTP <mark>Cookie</mark> request header) </td>
    </tr>
    <tr>
        <td> 
            Cookie: <strong>key</strong>=<strong>val</strong>;<i> ...</i>
        </td>
        <td> 
            the client sends only <u>one <mark>Cookie</mark> header</u> which contains the cookie key/value pairs 
        </td>
    </tr> 
    <tr>
        <td colspan="2"> Response Cookies (set by the server in HTTP <mark>Set-Cookie</mark> request headers) </td>
    </tr>
    <tr>
        <td> 
            Set-Cookie: <strong>key</strong>=<strong>val</strong>
            <small><span class="openable">;[expires=<i>date</i>]<small>; [path=<i>path</i>]</small><div>
                    <p> - <small>expires=</small><i>utcDateString</i> : expiry date for <u>this cookie key(s)</u> (can be generated by the <mark>toUTCString()</mark> method) </p>
                    <p> - <small>path=</small><i>path</i> : path for <u>this cookie key(s)</u> (Default: <mark>/</mark> = current page) </p>
                </div></span></small>
        </td>
        <td> 
            - the server can sedn multiple <mark>Set-Cookie</mark> headers <br>
            - these headers also contain additional instructions for the client (like <mark>expires</mark>, <mark>path</mark>) 
        </td>
    </tr> 
</table>
<h2 style="color:green;"><u> Notes : </u></h2>
    <details class="example" id="notes">
    <summary> Notes :</summary>
    </details>
<h2 style="color:green;"><u> Useful Links : </u></h2>
    <p><a href="https://www.w3schools.com/js/js_cookies.asp" target="_blank"> W3Schools JavaScript Cookies </a></p>
<h2 style="color:green;"><u> Remember This : </u></h2>
    <p> - browsers are very picky to store cookies on local sites, when I'm testing this (2018-03-10) Google Chrome ignores cookies on local sites, Mozilla handles but does Not store them, after the browser restart they are deleted (doesn't matter if expiry date set)! = Microsoft Edge works ok on local sites so tested with it! </p>
<h2 style="color:green;"><u> Description and Demonstration : </u></h2>
    <p> - cookies are small text files containing data on the user's browser, they are used for 'remembering' things like logins, and spying on clients (each browser controls their own cookies) </p>
    <p> - normally cookies are deleted when the current network session ends (browser specific) <u>unless an expiry date is set</u> </p>
    <p> - the server sends its cookies to the client so the client can store and "remember" things related of the site (server sends the <mark>Set-Cookie</mark> request header) </p>
    <p> - the client can send these cookies back to the server (send the cookie in the <mark>Cookie</mark> response header) </p>
    <pre class="syntax">
SYNTAX :    <em>document</em>.cookie                                                            // gets or sets the cookies for the document     
            <em>document</em>.cookie = <span class="openable">"<strong>key=value</strong><small>; [expires=<i>date</i>]</small><small>; [path=<i>path</i>]</small>"<div>
                    <p> - <strong>key=value</strong> : name value pair </p>
                    <p> - <small>expires=</small><i>utcDateString</i> : expiry date for <u>this cookie key(s)</u> (can be generated by the <mark>toUTCString()</mark> method) </p>
                    <p> - <small>path=</small><i>path</i> : path for <u>this cookie key(s)</u> (Default: <mark>/</mark> = current page) </p>
                </div></span>
    </pre>
<details class="example">
<summary> DEMO </summary>
    <pre>
// get set cookies --------------------------------------------------------------------
    document.cookie;                                                                   // -> returns the current document's cookies
    
    document.cookie = "name=Bircsy;                                                    // set name and value (this will be deleted as soon the browser closed)
    document.cookie = "name=Bircsy; expires=Sat, 1 Jan 2020 12:00:00 UTC";             // set cookie + expiry date
    document.cookie = "name=Bircsy; expires=Sat, 1 Jan 2020 12:00:00 UTC; path=/";     // set cookie + expiry date + path (this cookie can be accessed form the whole domain!)
    document.cookie = "name=Bircsy; expires=Sat, 1 Jan 2020 12:00:00 UTC; path=/this/";// set cookie + expiry date + path (this cookie can be accessed from and after the "this" subpage)
    
// delete cookies ---------------------------------------------------------------------
    document.cookie = " ";                                                             // -! this adds a new empty space the document cookies DOES NOT delete all cookies   
    document.cookie = "name=";                                                         // this deletes (sets) ONLY the 'name' cookie's value 
    document.cookie = "name=Bircsy; expires=Sun, 11 Mar 2018 01:00:00 GMT";            // this deletes the cookie (past time is set) 
    document.cookie = "name=Bircsy; expires=Sun, 11 Mar 2018 01:00:00 GMT; path=/";     
    </pre>
</details>
<details class="example">
<summary> Example : </summary>
    <form onsubmit="cookieCollect()">
        <input type="text" name="tempCookie" id="tempCookie" autocomplete="off"> Set a temporary cookie (deleted after the browser closed) <br>
        <input type="text" name="1minCookie" id="1minCookie" autocomplete="off"> Set a cookie for 1 minute (deleted after 1 minute)<br>
        <input type="submit" value="Submit"> 
    </form>
    <button onclick="delCookie_1()"> Delete Temporary Cookie </button>
    <button onclick="delCookie_2()"> Delete 1-minute Cookie </button><br>
    <span style="color:yellow;" id="cookieDisp"> </span>
<script>
    function cookieCollect() {
        var tempCookie = document.getElementById('tempCookie').value;
        var min1Cookie = document.getElementById('1minCookie').value;
        
        document.cookie = 'formCookie-1=' + tempCookie + "; path=/";
        document.cookie = 'formCookie-2=' + min1Cookie + "; expires=" + new Date( new Date().getTime() + 60 * 1000 ).toUTCString();    
                // this is how you add 1 minute to the time when the browser runs the function 
    }
    function delCookie_1() {
        document.cookie = "formCookie-1=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/";
                // "path=/" set when the cookie is created so we need to add it when deleting
    }
    function delCookie_2() {
        document.cookie = "formCookie-2=; expires=Thu, 01 Jan 1970 00:00:00 UTC";
                // path is not set because when the cookie is created it wasn't set in the first place 
    }
    
    document.getElementById('cookieDisp').innerHTML = "Page Cookies = " + document.cookie.fontcolor('blue');
</script>
        <details>
        <summary> CODE : </summary>
        <pre> 
    &lt;button onclick="delCookie_1()"&gt; Delete Temporary Cookie &lt;/button&gt;
    &lt;button onclick="delCookie_2()"&gt; Delete 1-minute Cookie &lt;/button>&lt;br&gt;
    &lt;span style="color:yellow;" id="cookieDisp"&gt; &lt;/span&gt;
&lt;script&gt;
    function cookieCollect() {
        var tempCookie = document.getElementById('tempCookie').value;
        var min1Cookie = document.getElementById('1minCookie').value;
        
        document.cookie = 'formCookie-1=' + tempCookie + "; path=/";
        document.cookie = 'formCookie-2=' + min1Cookie + "; expires=" + new Date( new Date().getTime() + 60 * 1000 ).toUTCString();    
                // this is how you add 1 minute to the time when the browser runs the function 
    }
    function delCookie_1() {
        document.cookie = "formCookie-1=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/";
                // "path=/" set when the cookie is created so we need to add it when deleting
    }
    function delCookie_2() {
        document.cookie = "formCookie-2=; expires=Thu, 01 Jan 1970 00:00:00 UTC";
                // path is not set because when the cookie is created it wasn't set in the first place 
    }
    
    document.getElementById('cookieDisp').innerHTML = "Page Cookies = " + document.cookie.fontcolor('blue');
&lt;/script&gt;
        </pre>
        </details>
</details>  
    
    <br><br>
</body>
</html>